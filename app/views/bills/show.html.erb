<h1 class="text-2xl font-bold mb-4"><%= @bill.title %></h1>

<p><span class="font-semibold">種類:</span> <%= @bill.kind %></p>
<p><span class="font-semibold">回次:</span> <%= @bill.session %></p>
<p><span class="font-semibold">番号:</span> <%= @bill.number %></p>
<p><span class="font-semibold">審議状況:</span> <%= @bill.discussion_status %></p>

<% if @bill.body_link.present? %>
  <p class="mt-2">
    <span class="font-semibold">本文リンク:</span>
    <%= link_to "本文を表示", @bill.body_link, target: "_blank", class: "text-blue-600 hover:underline" %>
  </p>
<% end %>

<% if @bill.summary_text.present? %>
  <p class="mt-2 font-semibold">要綱概要:</p>
  <p class="whitespace-pre-wrap text-sm text-gray-700">
    <%= truncate(@bill.summary_text, length: 3000) %>
  </p>
<% end %>

<div class="mt-3 space-y-1">
  <% if @propose_groups.any? %>
    <p><span class="font-semibold">提出会派:</span>
      <%= @propose_groups.map { |s| link_to s.supportable.name, group_path(s.supportable), class: "text-blue-600 hover:underline" }.join(", ").html_safe %>
    </p>
  <% end %>

  <% if @proposers.any? %>
    <p><span class="font-semibold">提出者:</span>
      <%= @proposers.map { |s| link_to s.supportable.name, politician_path(s.supportable), class: "text-blue-600 hover:underline" }.join(", ").html_safe %>
    </p>
  <% end %>

  <% if @agreeers.any? %>
    <p><span class="font-semibold">賛成者:</span>
      <%= @agreeers.map { |s| link_to s.supportable.name, politician_path(s.supportable), class: "text-blue-600 hover:underline" }.join(", ").html_safe %>
    </p>
  <% end %>

  <% if @discussion_agree_groups.any? %>
    <p><span class="font-semibold">審議時賛成会派:</span>
      <%= @discussion_agree_groups.map { |s| link_to s.supportable.name, group_path(s.supportable), class: "text-blue-600 hover:underline" }.join(", ").html_safe %>
    </p>
  <% end %>

  <% if @discussion_disagree_groups.any? %>
    <p><span class="font-semibold">審議時反対会派:</span>
      <%= @discussion_disagree_groups.map { |s| link_to s.supportable.name, group_path(s.supportable), class: "text-blue-600 hover:underline" }.join(", ").html_safe %>
    </p>
  <% end %>

  <% if @vote_agreeers.any? %>
    <p><span class="font-semibold">採決時賛成者:</span>
      <%= @vote_agreeers.map { |s| link_to s.supportable.name, politician_path(s.supportable), class: "text-blue-600 hover:underline" }.join(", ").html_safe %>
    </p>
  <% end %>

  <% if @vote_disagreeers.any? %>
    <p><span class="font-semibold">採決時反対者:</span>
      <%= @vote_disagreeers.map { |s| link_to s.supportable.name, politician_path(s.supportable), class: "text-blue-600 hover:underline" }.join(", ").html_safe %>
    </p>
  <% end %>
</div>

<h1 class="text-2xl font-bold mb-4"><%= @bill.title %></h1>

<p><span class="font-semibold">種類:</span> <%= @bill.kind %></p>
<p><span class="font-semibold">審議状況:</span> <%= @bill.discussion_status %></p>

<% if @bill.summary_link.present? %>
  <p class="mt-2">
    <span class="font-semibold">本文リンク:</span>
    <%= link_to "本文を表示", @bill.body_link, target: "_blank", class: "text-blue-600 hover:underline" %>
  </p>
<% end %>

<% if @bill.summary_text.present? %>
  <p class="mt-2 font-semibold">要綱概要:</p>
  <p class="whitespace-pre-wrap text-sm text-gray-700">
    <%= truncate(@bill.summary_text, length: 3000) %>
  </p>
<% end %>

<div class="mt-3 space-y-1">
  <% if @propose_groups.any? %>
    <p><span class="font-semibold">提出会派:</span>
      <%= @propose_groups.map { |s| link_to s.supportable.name, group_path(s.supportable), class: "text-blue-600 hover:underline" }.join(", ").html_safe %>
    </p>
  <% end %>

  <% if @proposers.any? %>
    <p><span class="font-semibold">提出者:</span>
      <%= @proposers.map { |s| link_to s.supportable.name, politician_path(s.supportable), class: "text-blue-600 hover:underline" }.join(", ").html_safe %>
    </p>
  <% end %>

  <% if @agreeers.any? %>
    <p><span class="font-semibold">賛成者:</span>
      <%= @agreeers.map { |s| link_to s.supportable.name, politician_path(s.supportable), class: "text-blue-600 hover:underline" }.join(", ").html_safe %>
    </p>
  <% end %>

  <% if @discussion_agree_groups.any? %>
    <p><span class="font-semibold">審議時賛成会派:</span>
      <%= @discussion_agree_groups.map { |s| link_to s.supportable.name, group_path(s.supportable), class: "text-blue-600 hover:underline" }.join(", ").html_safe %>
    </p>
  <% end %>

  <% if @discussion_desagree_groups.any? %>
    <p><span class="font-semibold">審議時反対会派:</span>
      <%= @discussion_desagree_groups.map { |s| link_to s.supportable.name, group_path(s.supportable), class: "text-blue-600 hover:underline" }.join(", ").html_safe %>
    </p>
  <% end %>
</div>

<p class="text-xs text-gray-500 mt-6">
  ※本ページに掲載している法案情報は、衆議院ホームページ
  （<%= link_to "https://www.shugiin.go.jp/", "https://www.shugiin.go.jp/", target: "_blank", class: "underline" %>）
  より取得・引用しています。
</p>
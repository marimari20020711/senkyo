<h1 class="text-2xl font-bold mb-4">
  <%= @group.name %> の関連議案
</h1>

<% if @propose_bills.any? %>
  <h2 class="text-xl font-semibold mt-6">提出会派として提出した議案</h2>
  <ul class="list-disc pl-6 space-y-1 mt-2">
    <% @propose_bills.each do |bill| %>
      <li>
        <%= link_to "#{bill.kind} #{bill.session}回 #{bill.number}番 #{bill.title}", bills_path(q: { title_cont: bill.title }), class: "text-blue-600 hover:underline" %>
      </li>
    <% end %>
  </ul>
<% end %>

<% if @agree_bills.any? %>
  <h2 class="text-xl font-semibold mt-6">審議時賛成会派として賛成した議案</h2>
  <ul class="list-disc pl-6 space-y-1 mt-2">
    <% @agree_bills.each do |bill| %>
      <li>
        <%= link_to "#{bill.kind} #{bill.session}回 #{bill.number}番 #{bill.title}", bills_path(q: { title_cont: bill.title }), class: "text-blue-600 hover:underline" %>
      </li>
    <% end %>
  </ul>
<% end %>

<% if @disagree_bills.any? %>
  <h2 class="text-xl font-semibold mt-6">審議時反対会派として反対した議案</h2>
  <ul class="list-disc pl-6 space-y-1 mt-2">
    <% @disagree_bills.each do |bill| %>
      <li>
        <%= link_to "#{bill.kind} #{bill.session}回 #{bill.number}番 #{bill.title}", bills_path(q: { title_cont: bill.title }), class: "text-blue-600 hover:underline" %>
      </li>
    <% end %>
  </ul>
<% end %>

<%# 所属議員一覧 %>
<% if @group.politicians.any? %>
  <div class="bg-gray-50 p-4 rounded-lg shadow mt-10">
    <h2 class="text-xl font-semibold mb-4">所属議員一覧</h2>

    <% shugin_members = @group.politicians.select { |p| p.name_of_house == "衆議院" } %>
    <% sangiin_members = @group.politicians.select { |p| p.name_of_house == "参議院" } %>

    <% if shugin_members.any? %>
      <h3 class="text-lg font-medium mt-4">衆議院議員</h3>
      <ul class="list-disc pl-6 space-y-1 mt-1">
        <% shugin_members.each do |p| %>
          <li>
            <%= link_to p.name, politician_path(p), class: "text-blue-600 hover:underline" %>
            <% if p.district.present? %>（<%= p.district %>）<% end %>
          </li>
        <% end %>
      </ul>
    <% end %>

    <% if sangiin_members.any? %>
      <h3 class="text-lg font-medium mt-4">参議院議員</h3>
      <ul class="list-disc pl-6 space-y-1 mt-1">
        <% sangiin_members.each do |p| %>
          <li>
            <%= link_to p.name, politician_path(p), class: "text-blue-600 hover:underline" %>
            <% if p.district.present? %>（<%= p.district %>）<% end %>
          </li>
        <% end %>
      </ul>
    <% end %>
  </div>
<% end %>
